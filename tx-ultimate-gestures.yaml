blueprint:
  name: TX Gesture - Swipe Up Control
  description: >
    Responds to a Swipe Up gesture from a Sonoff TX Ultimate panel
    by turning on the specified targets.
  domain: automation

  input:
    gesture_entity:
      name: Swipe Up Gesture Sensor
      selector:
        entity:
          domain: binary_sensor

    targets_to_turn_on:
      name: Targets to Turn On
      default: []
      selector:
        target:

mode: single

trigger:
  - platform: state
    entity_id: !input gesture_entity
    from: 'off'
    to: 'on'

condition:
  - condition: template
    value_template: >
      {{ (targets_to_turn_on | length) > 0 }}

action:
  - service: system_log.write
    data:
      message: "Swipe Up Triggered: {{ trigger.entity_id }}"
      level: info

  - service: light.turn_on
    target: !input targets_to_turn_on
